# Project structure
In any project, it is important to have a well-defined structure of content to ensure easy localization of specific parts of the project. When working on reproducibility this is doubly important, as your work will need to be accessible and understandable to others as well as yourself. Software projects have guidelines on top of this: content is categorized based on their role in the project: is it input? Is it a tool that is used within the project? Is it generated by the project itself? The behavior of a file informs its location within your folder structure, and references to these files should be made within this context alone. All this to ensure that your project can be moved to another location, and run anew. 

In this part of the workshop we will address setting up a reproducible project structure. We will introduce best practices for a folder structure and how to refer to files within your project. Finally, we will look at how this process can be automated, so that someone reproducing your work (or using your software) can set up the project on their own system with minimal effort.


## Folders and paths


### Glossary
| Concept | Definition |
|:-----------:|:-------------|
| Root | The highest directory in the hierarchy of folders. This is the main drive in which all your other folders are stored. When working inside a project, the root folder is the main project folder, and will function as the working directory. |
| Path | The directions to a folder within your system. A path can be absolute, starting from the highest possible point in the hierarchy (for example, the C: drive), or relative, starting from a working directory. |




## Setting up a project structure
We start a project with **data**. The data that forms the basis of your work, will get its own, read-only `data` folder. It is important that the content of this folder does not change; your code will not edit it, nor will you. It will only be used as source material for the project during its analysis. The project will create **output**, for example **figures** or **models**, which by definition consists only of files that are generated by running your code. Your main script file can be stored in the root, but 

`{finish this paragraph}`


### `~` (root)
This folder:

- contains all the following subfolders.
- contains analysis scripts.
- contains installation instructions and/or makefile script.
- contains the project's main README.

### `data`
This folder:

- contains (raw) research data, in read-only files.
- is filled at the start of the project, and may not be edited by you or your code during the project.
- may have subdirectories indicating e.g. different kinds of data (e.g. `images`).

Alternative folder name: `input/`

### `output`
This folder:

- contains the output files produced by your analysis.
- can be deleted, and reproduced entirely by the analysis.
- may have subdirectories; e.g. `figs` or `models`.

Alternative folder name: `results/`


### `scripts`
This folder:

- contains code.
- is never executed by itself: the content is limited to e.g. function definitions.
- may have subdirectories; e.g. `R` or `Python`.

Alternative folder names: `src/`, `R/`


### `doc`
This folder:

- contains the code documentation, perhaps even the paper.
- is edited during the project by the user.

Alternative folder name: `paper/`


`{make folder tree to visualize the above}`



### Absolute and relative paths



## Automating the project structure

What **could** we want to automate?

- installing the required packages and dependencies
- generating the project structure
- analyse
- tests to determine whether the project can be run
- downloading data, filling up the data folder
- rendering documentation



## Exercises 

### SLide exercise

- Examples (which folder goes this imaginary file?), central discussion, ambiguous


### Individual 

- Create a folder structure like the one before for your own project (including subdirectories)
- Place a data file in the data folder, write a script that reads the datafile, generates an output file, and places it in the appropriate folder.



### Group 

Create a folder structure like the one discussed before. Get consensus about the structure. 



## Links and inspiration dump

- [Noble et al 2009, Plos Comp Biol](https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424)
- [NiceR code](https://nicercode.github.io/blog/2013-04-05-projects/)
- [Carl Boettiger's workflow](https://www.carlboettiger.info/2012/05/06/research-workflow.html)

